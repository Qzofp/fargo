SELECT id, xbmcid, title, sorttitle, "TIT", `year`
FROM movies
WHERE setid NOT IN (
    SELECT setid FROM movies
    WHERE setid > 0
    GROUP BY setid 
    HAVING COUNT(setid) > 1
)
UNION
SELECT m.id, m.xbmcid, m.set AS title, m.sorttitle, "SET", m.year
FROM (SELECT id, xbmcid, setid, `set`, sorttitle, `year` FROM movies ORDER BY `year`) m
WHERE setid > 0
GROUP BY setid
HAVING COUNT(setid) > 1
ORDER BY title
LIMIT 30,15


SELECT m.id, m.xbmcid, m.set AS title, m.sorttitle, "SET", m.year
FROM (SELECT id, xbmcid, setid, `set`, sorttitle, `year` FROM movies ORDER BY `year`) m
WHERE setid > 0
GROUP BY setid
HAVING COUNT(setid) > 1
UNION
SELECT id, xbmcid, title, sorttitle, "TIT", `year`
FROM movies
WHERE setid NOT IN (
    SELECT setid FROM movies
    WHERE setid > 0
    GROUP BY setid 
    HAVING COUNT(setid) > 1
)
ORDER BY title
LIMIT 30,15


