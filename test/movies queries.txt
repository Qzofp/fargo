SELECT id, xbmcid, title, sorttitle, "TIT", `year`
FROM movies
WHERE setid NOT IN (
    SELECT setid FROM movies
    WHERE setid > 0
    GROUP BY setid 
    HAVING COUNT(setid) > 1
)
UNION
SELECT m.id, m.xbmcid, m.set AS title, m.sorttitle, "SET", m.year
FROM (SELECT id, xbmcid, setid, `set`, sorttitle, `year` FROM movies ORDER BY `year`) m
WHERE setid > 0
GROUP BY setid
HAVING COUNT(setid) > 1
ORDER BY title
LIMIT 30,15


SELECT m.id, m.xbmcid, m.set AS title, m.sorttitle, "SET", m.year
FROM (SELECT id, xbmcid, setid, `set`, sorttitle, `year` FROM movies ORDER BY `year`) m
WHERE setid > 0
GROUP BY setid
HAVING COUNT(setid) > 1
UNION
SELECT id, xbmcid, title, sorttitle, "TIT", `year`
FROM movies
WHERE setid NOT IN (
    SELECT setid FROM movies
    WHERE setid > 0
    GROUP BY setid 
    HAVING COUNT(setid) > 1
)
ORDER BY title
LIMIT 30,15

-- Sets query
SELECT DISTINCT s.id, s.setid, mc.id, mc.year, mc.set, mc.genre
FROM (
  SELECT setid, MIN(`year`) AS minyear
  FROM movies
  GROUP BY setid
) ma
JOIN sets s
    ON s.setid = ma.setid
INNER JOIN movies mb
    ON ma.setid = mb.setid    
INNER JOIN movies mc
    ON ma.setid = mc.setid
    AND ma.minyear = mc.year

SELECT DISTINCT s.id, s.setid, s.hide, s.refresh, mc.set AS title, mc.year, mc.genre
FROM (
  SELECT setid, MIN(`year`) AS minyear
  FROM movies
  GROUP BY setid
) ma
JOIN sets s
    ON s.setid = ma.setid
INNER JOIN movies mb
    ON ma.setid = mb.setid    
INNER JOIN movies mc
    ON ma.setid = mc.setid
    AND ma.minyear = mc.year
WHERE s.hide = 0 AND mc.year = 2010
ORDER BY mc.set

SELECT DISTINCT s.tvshowid, t.title, t.hide, t.refresh, s.seasons
FROM (
  SELECT tvshowid, MAX(season) AS seasons
  FROM seasons
  GROUP BY tvshowid
) s
JOIN tvshows t
    ON s.tvshowid = t.xbmcid